---
title: Timeseries Analysis Using R and Advantager
author: C Ried
date: '2017-11-11'
slug: timeseries-analysis-using-r-and-advantager
categories:
  - R
tags:
  - documentation
---



<p>In the past, the best way to get stock prices was to use either Google Finance or Yahoo Finance data streams. These have since become difficult to keep up to date and thus another outlet to get this information is AlphaVantager. Following is a simple R implementation to get up to date data. You will be able to thus use this to find the information.</p>
<p>Above we provide two different libraries that will give us the functionality we need.</p>
<pre class="r"><code>symbol &lt;- &quot;BTC&quot;
av_api_key(advantagerKey)
data &lt;- av_get(symbol = symbol,market = &quot;CNY&quot;, av_fun  = &quot;DIGITAL_CURRENCY_DAILY&quot;) </code></pre>
<p>In order to make this more useful, we will parameterize these functions in order to make data exploration easier to use when looking at multiple stocks.</p>
<pre class="r"><code>head(data)</code></pre>
<pre><code>## # A tibble: 6 x 11
##   timestamp  open.… high… low.… clos… open… high… low.… clos… volu… marke…
##   &lt;date&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
## 1 2014-04-01   2814  2919  2814  2860   453   471   453   461  5628 2.60e⁶
## 2 2014-04-02   2865  2972  2559  2562   462   480   413   413 10526 4.35e⁶
## 3 2014-04-03   2565  2679  2421  2650   414   432   390   427 10341 4.42e⁶
## 4 2014-04-04   2652  2749  2585  2698   428   443   416   435  7436 3.23e⁶
## 5 2014-04-05   2700  2814  2686  2814   435   454   433   454  4306 1.95e⁶
## 6 2014-04-06   2822  2873  2782  2835   455   463   448   457  2989 1.37e⁶</code></pre>
<p>Here we look at the daily open price of the stock for the past 5 years.</p>
<pre class="r"><code>g &lt;- data %&gt;%
  filter(timestamp &gt;= &#39;2017-1-1&#39;) %&gt;% 
  ggplot() + 
  geom_line(aes(timestamp, open..cny. ))+  
  labs(title = paste(&quot;Daily Open Pricing (&quot;,symbol,&quot;)&quot;), 
       y = &quot;Open Price (BTC)&quot;, x = &quot;Daily&quot;)
g</code></pre>
<p><img src="/post/2017-11-11-timeseries-analysis-using-r-and-advantager_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<div id="references" class="section level1">
<h1>References</h1>
<ul>
<li><a href="https://www.alphavantage.co/support/#">API Key Access</a></li>
</ul>
</div>
