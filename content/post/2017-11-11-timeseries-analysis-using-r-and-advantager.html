---
title: Timeseries Analysis Using R and Advantager
author: C Ried
date: '2017-11-11'
slug: timeseries-analysis-using-r-and-advantager
categories:
  - R
tags:
  - documentation
---



<div id="threw-error-due-to-the-api" class="section level3">
<h3>Threw error due to the API</h3>
<p>In the past, the best way to get stock prices was to use either Google Finance or Yahoo Finance data streams. These have since become difficult to keep up to date and thus another outlet to get this information is AlphaVantager. Following is a simple R implementation to get up to date data. You will be able to thus use this to find the information.</p>
<p>Above we provide two different libraries that will give us the functionality we need.</p>
<pre class="r"><code>#symbol &lt;- &quot;BTC&quot;
#av_api_key(advantagerKey)
#data &lt;- av_get(symbol = symbol,market = &quot;CNY&quot;, av_fun =&quot;DIGITAL_CURRENCY_DAILY&quot;) 
#write.csv(data, &quot;btc_data.csv&quot;)</code></pre>
<p>In order to make this more useful, we will parameterize these functions in order to make data exploration easier to use when looking at multiple stocks.</p>
<pre class="r"><code>#head(data)</code></pre>
<p>Here we look at the daily open price of the stock for the past 5 years.</p>
<pre class="r"><code>#g &lt;- data %&gt;%
#  filter(timestamp &gt;= &#39;2017-1-1&#39;) %&gt;% 
#  ggplot() + 
#  geom_line(aes(timestamp, open..cny. ))+  
#  labs(title = paste(&quot;Daily Open Pricing (&quot;,symbol,&quot;)&quot;), 
#       y = &quot;Open Price (BTC)&quot;, x = &quot;Daily&quot;)
#g</code></pre>
<p>#References
* <a href="https://www.alphavantage.co/support/#">API Key Access</a></p>
</div>
