---
title: Manipulating Hue Lights with R
author: Chris Ried
date: '2017-06-03'
slug: manipulating-hue-lights-with-r
categories:
  - R
tags:
  - iot
  - R
---



<pre><code>getIP &lt;- function()
{
  url &lt;- paste0(&quot;https://www.meethue.com/api/nupnp&quot;)
  res &lt;- httpGET(url)
  resJson &lt;- fromJSON(res)
  res &lt;- resJson[[&quot;internalipaddress&quot;]]
  res
}



#Finding the bridge 
# TODO: https://huetips.com/help/how-to-find-my-bridge-ip-address/

#############################################################
# Get the light 
#############################################################
getLights &lt;- function(ip, userName) 
{ 
  ip &lt;- getIP()
  url &lt;- paste0(&quot;http://&quot;,ip,&quot;/api/&quot;,userName,&quot;/lights/&quot;)
  #content &lt;- paste0(&#39;{&quot;on&quot;:&#39;,state,&#39;}&#39;)
  res &lt;- httpGET(url)
  res
}
getLights(ip, userName)</code></pre>
